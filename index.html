<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PolyHist Lexicon â€“ 4-Lang Glossary</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
    /* --------- THEME COLORS --------- */
    :root {
        --bg-red: #7a1f1f;        /* Vintage kÄ±rmÄ±zÄ± */
        --text-red: #8a1e1e;      /* YazÄ± kÄ±rmÄ±zÄ±sÄ± */
        --cream: #fdf9f2;         /* Kart kremi */
        --dark: #1b1b1b;          /* Siyah */
    }

    /* --------- PAGE BASE --------- */
    body {
        margin: 0;
        font-family: 'Playfair Display', serif;
        background: var(--bg-red) url('https://www.transparenttextures.com/patterns/old-wall.png');
        background-attachment: fixed;
        background-size: cover;
        color: var(--dark);
    }

    .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 30px 20px;
    }

    /* --------- TITLE --------- */
    h1 {
        text-align: center;
        font-size: 48px;
        color: var(--cream);
        letter-spacing: 2px;
        text-shadow: 0 0 8px rgba(0,0,0,0.3);
        margin-bottom: 40px;
    }

    /* --------- SEARCH BAR --------- */
    #search {
        width: 100%;
        padding: 14px;
        font-size: 18px;
        border: 2px solid var(--cream);
        background: #fff;
        outline: none;
        margin-bottom: 40px;
    }

    /* --------- ENTRY CARD --------- */
    .card {
        background: var(--cream) url('https://www.transparenttextures.com/patterns/paper-fibers.png');
        border: 1px solid #e0d8c8;
        padding: 25px;
        margin-bottom: 25px;
        box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        color: var(--text-red);
    }

    .term {
        font-size: 30px;
        font-weight: 600;
        color: var(--text-red);
    }

    .pos {
        font-size: 16px;
        margin-left: 5px;
        opacity: 0.8;
    }

    .phonetic {
        font-size: 17px;
        opacity: 0.8;
        margin-top: 5px;
    }

    .speak {
        cursor: pointer;
        margin-left: 10px;
        font-size: 20px;
    }

    .definition, .example {
        margin-top: 12px;
        font-size: 18px;
        line-height: 1.6;
    }

    .lang-buttons {
        margin-top: 20px;
    }

    .lang-buttons button {
        border: none;
        background: var(--bg-red);
        color: var(--cream);
        padding: 8px 14px;
        margin-right: 8px;
        cursor: pointer;
    }

    .lang-buttons button:hover {
        background: #5d1717;
    }
</style>
</head>

<body>

<div class="container">
    <h1>PolyHist Lexicon</h1>

    <input type="text" id="search" placeholder="Search a term...">

    <div id="entries"></div>
</div>

<script>
/* --------- DATA --------- */
const entries = [
    {
        id: 1,
        en: {
            term: "Caravanserai",
            pos: "noun",
            phonetic: "/ËŒkarÉ™ËˆvÃ¦nsÉ™raÉª/",
            def: "A roadside inn where travelers could rest and recover during long journeys.",
            ex: "Merchants stayed at the caravanserai before crossing the desert."
        },
        tr: {
            term: "Kervansaray",
            pos: "isim",
            def: "Uzun yolculuk yapan tÃ¼ccarlarÄ±n konakladÄ±ÄŸÄ± bÃ¼yÃ¼k han.",
            ex: "TÃ¼ccarlar Ã§Ã¶le geÃ§meden Ã¶nce kervansarayda dinlendi."
        },
        fr: {
            term: "CaravansÃ©rail",
            pos: "nom",
            def: "Les voyageurs y passaient la nuit lors de longs trajets.",
            ex: "Ils se sont arrÃªtÃ©s au caravansÃ©rail pour se reposer."
        },
        kr: {
            term: "ì¹´ë¼ë°˜ì‚¬ë¼ì´",
            pos: "ëª…ì‚¬",
            def: "ìž¥ê±°ë¦¬ ì—¬í–‰ìžë“¤ì´ ì‰¬ì–´ê°€ë˜ ìˆ™ì†Œ.",
            ex: "ê·¸ë“¤ì€ ì‚¬ë§‰ì„ ê±´ë„ˆê¸° ì „ì— ì¹´ë¼ë°˜ì‚¬ë¼ì´ì—ì„œ ì‰¬ì—ˆë‹¤."
        }
    }
];

/* --------- RENDER FUNCTION --------- */
function renderEntries(list) {
    const container = document.getElementById("entries");
    container.innerHTML = "";

    list.forEach(item => {
        const e = item.en;

        const card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
            <div class="term">${e.term} <span class="pos">(${e.pos})</span></div>
            <div class="phonetic">${e.phonetic}
                <span class="speak" onclick="speak('${e.term}')">ðŸ”Š</span>
            </div>
            <div class="definition">${e.def}</div>
            <div class="example"><i>${e.ex}</i></div>

            <div class="lang-buttons">
                <button onclick="showLang(${item.id}, 'tr')">ðŸ‡¹ðŸ‡·</button>
                <button onclick="showLang(${item.id}, 'fr')">ðŸ‡«ðŸ‡·</button>
                <button onclick="showLang(${item.id}, 'kr')">ðŸ‡°ðŸ‡·</button>
                <button onclick="showLang(${item.id}, 'en')">ðŸ‡¬ðŸ‡§</button>
            </div>
        `;

        container.appendChild(card);
    });
}

/* --------- SEARCH --------- */
document.getElementById("search").addEventListener("input", function() {
    const q = this.value.toLowerCase();
    const filtered = entries.filter(item =>
        item.en.term.toLowerCase().includes(q)
    );
    renderEntries(filtered);
});

/* --------- LANGUAGE SWITCH --------- */
function showLang(id, lang) {
    const item = entries.find(e => e.id === id);
    const data = item[lang];

    const box = document.getElementById("entries");
    box.innerHTML = "";

    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
        <div class="term">${data.term} <span class="pos">(${data.pos})</span></div>
        <div class="definition">${data.def}</div>
        <div class="example"><i>${data.ex}</i></div>

        <div class="lang-buttons">
            <button onclick="renderEntries(entries)">ðŸ”™ Back</button>
        </div>
    `;

    box.appendChild(card);
}

/* --------- TEXT-TO-SPEECH --------- */
function speak(text) {
    const msg = new SpeechSynthesisUtterance(text);
    msg.lang = "en-US";
    speechSynthesis.speak(msg);
}

/* --------- INIT --------- */
renderEntries(entries);
</script>

</body>
</html>
